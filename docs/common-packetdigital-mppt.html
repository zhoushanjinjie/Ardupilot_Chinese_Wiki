<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Packet Digital MPPT &mdash; Copter  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/./useralerts.js"></script>
        <script data-domain="ardupilot.org" defer="defer" src="https://plausible.ardupilot.org/js/script.outbound-links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Copter
              <img src="../_static/ardupilot_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="copter-introduction.html">Copter简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">选择飞控</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-GCS.html">地面站软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">首次设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">首次飞行和调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">传统直升机</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">任务规划</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">如果出现问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">高级配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">可选硬件</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional-information.html">附加信息</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">用户警报</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Copter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Packet Digital MPPT</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="packet-digital-mppt">
<span id="common-packetdigital-mppt"></span><h1>Packet Digital MPPT<a class="headerlink" href="#packet-digital-mppt" title="Permalink to this heading">¶</a></h1>
<a class="reference internal image-reference" href="../_images/packetdigital-mppt.jpg"><img alt="../_images/packetdigital-mppt.jpg" src="../_images/packetdigital-mppt.jpg" style="width: 400px;" /></a>
<p>The <a class="reference external" href="https://www.packetdigital.com/maximum-power-point-tracker/">Packet Digital MPPT solar controller</a> is specifically designed to help extend the range of unmanned vehicles through the use of solar panels.  This light weight controller includes a DroneCAN/DroneCAN interface allowing real-time monitoring of the solar system’s performance.</p>
<p>Normally, a conventional, bi-directional power monitor would also be included in this system directly on the battery’s output to monitor the battery’s current flow, either charging or discharging, and total consumed current of the battery.</p>
<section id="where-to-buy">
<h2>Where to Buy<a class="headerlink" href="#where-to-buy" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.packetdigital.com/contact/">Contact PacketDigital</a> directly for pricing</p></li>
</ul>
</section>
<section id="specifications">
<h2>Specifications<a class="headerlink" href="#specifications" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Input Voltage: 12.5V to 50V</p></li>
<li><p>Output Voltage: Up to 50V</p></li>
<li><p>Input/Output Current Max: 5A</p></li>
<li><p>Size: 60.96mm x 53.34mm x 17.4mm (LxWxH)</p></li>
<li><p>Weight: 31g</p></li>
</ul>
<p>For more details please see <a class="reference external" href="https://www.packetdigital.com/maximum-power-point-tracker/">packetdigital.com</a></p>
</section>
<section id="autopilot-connection">
<h2>Autopilot Connection<a class="headerlink" href="#autopilot-connection" title="Permalink to this heading">¶</a></h2>
<a class="reference external image-reference" href="../_images/packetdigital-and-autopilot.png"><img alt="../_images/packetdigital-and-autopilot.png" src="../_images/packetdigital-and-autopilot.png" style="width: 450px;" /></a>
<p>Connect the solar panel, MPPT, battery and autopilot as shown above.</p>
<p>Once the solar panel provides more than 12V the board’s LED should flash green.  Initially it may be easiest to connect a 4S or 6S battery to the board’s VIN port.</p>
</section>
<section id="configuration">
<h2>配置<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p>Connect a ground station (e.g. Mission Planner) to the autopilot and set the following parameters and then reboot the autopilot</p>
<ul class="simple">
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#batt-monitor" title="(in Rover)"><span class="xref std std-ref">BATT_MONITOR</span></a> = 8 (DroneCAN)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#can-p1-driver" title="(in Rover)"><span class="xref std std-ref">CAN_P1_DRIVER</span></a> = 1 (DroneCAN)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#batt-options" title="(in Rover)"><span class="xref std std-ref">BATT_OPTIONS</span></a> provides several options for MPPT enable and disable depending on autopilot events.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the MPPT can be manually turned on or off using an RC channel switch setup with its <code class="docutils literal notranslate"><span class="pre">RCx_OPTION</span></code> = 172.</p>
</div>
<p>Check the MPPT board’s parameters by connecting through “SLCAN”</p>
<ul class="simple">
<li><p>Open Mission Planner’s SETUP &gt;&gt; Optional Hardware &gt;&gt; UAVCAN(DroneCAN) page</p></li>
<li><p>From the top right, select the COM port for the autopilot’s SLCAN connection (normally one higher than the MAVLink COM port)</p></li>
<li><p>Press the “SLCan Mode CAN1” button. The table should be filled in as shown below.  If this does not work try changing to the Config screen, connect over MAVLink and set <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#can-slcan-cport" title="(in Rover)"><span class="xref std std-ref">CAN_SLCAN_CPORT</span></a> = 1.  Return to SETUP &gt;&gt; Optional Hardware &gt;&gt; UAVCAN(DroneCAN) page and press the “SLCan Mode CAN1” button again</p></li>
</ul>
<a class="reference external image-reference" href="../_images/packetdigital-mp-connect.png"><img alt="../_images/packetdigital-mp-connect.png" src="../_images/packetdigital-mp-connect.png" style="width: 450px;" /></a>
<ul class="simple">
<li><p>Press the “Menu” button to view or change some of the MPPT’s settings</p>
<ul>
<li><p>mppt.vout_set configures the maximum voltage from the VOUT pin.  This should be equal to the battery’s voltage when fully charged.</p></li>
<li><p>mppt.dcdc_en configures the board’s startup behaviour.  If “0” the MPPT will not charge the battery until the autopilot is armed.  If “1” the MPPT will always attempt to charge the battery</p></li>
<li><p>uavcan.node_id should normally be left at “0” to allow the autopilot to dynamically allocate the MPPT’s DroneCAN node id but if multiple DroneCAN battery monitors or MPPTs are used you can manually set this to some value between 0 and 127 (e.g. “50”) and then set <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#batt-serial-num" title="(in Rover)"><span class="xref std std-ref">BATT_SERIAL_NUM</span></a> to the same number</p></li>
</ul>
</li>
</ul>
</section>
<section id="connecting-more-than-one-mppt">
<h2>Connecting more than one MPPT<a class="headerlink" href="#connecting-more-than-one-mppt" title="Permalink to this heading">¶</a></h2>
<p>More than one Packet Digital MPPT board can be connected in parallel to the same battery (but different solar panels) to increase the total current provided.</p>
<p>To allow the autopilot to connect to all the MPPTs:</p>
<ul class="simple">
<li><p>Enable one battery monitor per MPPT by setting <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#batt-monitor" title="(in Rover)"><span class="xref std std-ref">BATTx_MONITOR</span></a> = 8</p></li>
<li><p>Use Mission Planner’s SETUP &gt;&gt; Optional Hardware &gt;&gt; UAVCAN(DroneCAN) page’s “Menu” button to manually configure the uavcan.node_id of each MPPT</p></li>
<li><p>set <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#batt-serial-num" title="(in Rover)"><span class="xref std std-ref">BATTx_SERIAL_NUM</span></a> to match the uavcan.node_ids set above.</p></li>
<li><p>You can sum all the MPPT currents using a “SUM (10)” power monitor type. See <a class="reference internal" href="common-power-module-configuration-in-mission-planner.html#common-power-module-configuration-in-mission-planner"><span class="std std-ref">Power Monitor/Module Configuration in Mission Planner</span></a>.</p></li>
</ul>
</section>
<section id="videos">
<h2>Videos<a class="headerlink" href="#videos" title="Permalink to this heading">¶</a></h2>
<div class="video_wrapper" style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/s4YxbC2ZW50" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div></section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ArduPilot Dev Team.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>