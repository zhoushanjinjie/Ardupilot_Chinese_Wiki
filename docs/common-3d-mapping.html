<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3d Mapping &mdash; Copter  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/./useralerts.js"></script>
        <script data-domain="ardupilot.org" defer="defer" src="https://plausible.ardupilot.org/js/script.outbound-links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="First Person View (FPV)" href="common-fpv-first-person-view.html" />
    <link rel="prev" title="Use-Cases and Applications" href="common-use-cases-and-applications.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Copter
              <img src="../_static/ardupilot_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="copter-introduction.html">Copter简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">选择飞控</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-GCS.html">地面站软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">首次设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">首次飞行和调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">传统直升机</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">任务规划</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">如果出现问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">高级配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">可选硬件</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="additional-information.html">附加信息</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-master-features.html">Upcoming Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-antenna-tracking.html">Antenna Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-simulation.html">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="solo_arducopter_upgrade.html">Solo Software Upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyrocket.html">SkyRocket</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-oem-customizations.html">OEM Customization</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="common-use-cases-and-applications.html">Use Cases and Applications</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="common-use-cases-and-applications.html#use-cases">Use Cases</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">3d Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-fpv-first-person-view.html">First Person View (FPV)</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-multi-vehicle-flying.html">Multi-Vehicle Flying</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="common-use-cases-and-applications.html#vehicle-types">Vehicle Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">用户警报</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Copter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="additional-information.html">Additional Information and Topics of Interest</a></li>
          <li class="breadcrumb-item"><a href="common-use-cases-and-applications.html">Use-Cases and Applications</a></li>
      <li class="breadcrumb-item active">3d Mapping</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="d-mapping">
<span id="common-3d-mapping"></span><h1>3d Mapping<a class="headerlink" href="#d-mapping" title="Permalink to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>This page introduces how Copter/Plane along with the right equipment can
be used to create 3d maps.</p>
<a class="reference external image-reference" href="https://sketchfab.com/models/ca785239f99643499fab7c62e1944f95"><img alt="../_images/3d_mapping_the_fallen_blockhouse.jpg" src="../_images/3d_mapping_the_fallen_blockhouse.jpg" /></a>
<p>The image above is
<a class="reference external" href="http://www.diydrones.com/profile/Sylvain793">Sylvain</a>’s <a class="reference external" href="https://www.diydrones.com/profiles/blogs/the-fallen-blockhouse-t3-entry">“the fallen
blockhouse”</a> and <a class="reference external" href="https://www.diydrones.com/profiles/blogs/announcing-the-winner-of-the-13th-t3-competition">the winner</a>of
the Feb 2014 T3 competition.</p>
</section>
<section id="equipment-you-will-need">
<h2>Equipment you will need<a class="headerlink" href="#equipment-you-will-need" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://ardupilot.org/plane/index.html">Plane</a> or
<a class="reference external" href="https://ardupilot.org/copter/index.html#home" title="(in Copter)"><span class="xref std std-ref">Multicopter</span></a></p>
<p>A digital still camera:</p>
<p><a class="reference external" href="http://chdk.wikia.com/wiki/For_Developers">Canon cameras capable of CHDK</a> including the S100,
S110, Elph 110 HS and SX230HS</p>
<p>Other camera types including Canon ELPH 520 HS (not CHDK capable) with
some method of triggering the camera shutter</p>
<p>GoPro cameras are not recommended because of their fish-eye lenses</p>
<p>A downward facing <a class="reference internal" href="common-cameras-and-gimbals.html#common-cameras-and-gimbals"><span class="std std-ref">gimbal</span></a> or hard
mount to attach a camera to the vehicle.</p>
</section>
<section id="sample-mission">
<h2>Sample Mission<a class="headerlink" href="#sample-mission" title="Permalink to this heading">¶</a></h2>
<a class="reference external image-reference" href="../_images/3dMapping_FlightPlanExample.jpg"><img alt="../_images/3dMapping_FlightPlanExample.jpg" src="../_images/3dMapping_FlightPlanExample.jpg" /></a>
<p>A good 3d rendering can be accomplished with 60 ~ 100 still pictures.
There should be at least 65% overlap between consecutive pictures but
aiming for 80% or even higher is recommended.  The aerial photographs
can also be combined with photos taken from the ground.</p>
<p>The altitude of the mission depends upon the subject.  For large flat
areas, flying 40m ~ 80m above the surface should provide very detailed
images (and thus a detailed final product) but for buildings flying
higher (i.e. 100m above the building) reduces distortion.</p>
<p>It is recommended to fly a mission that is made up of parallel tracks
with each track between 25m and 100m apart.  The higher the vehicle, the
wider apart the tracks can be.  In general you should aim for 65%
overlap in pictures from adjacent tracks.</p>
<p>The camera shutter needs to be triggered throughout the mission (i.e
every 2 to 5 seconds or at regular distance intervals).  Many cameras
include a feature to take pictures at regular time intervals.  <a class="reference external" href="http://chdk.wikia.com/wiki/User_Written_Scripts">Canon cameras loaded with CHDK can run a script</a> that does
this.  Alternatively <a class="reference internal" href="common-chdk-camera-control-tutorial.html#common-chdk-camera-control-tutorial"><span class="std std-ref">Copter/Plane/Rover can trigger a Canon CHDK camera at timed or distance based intervals</span></a>.</p>
<p>A mission to accomplish this would include some or all of these
commands:</p>
<p><strong>TAKEOFF</strong> - will cause the vehicle to climb straight to the target
altitude provided in the “Alt” column (normally in meters)</p>
<p><strong>WAYPOINT</strong> - provide as many waypoints as required to fly over the
scene in a grid pattern.  Altitude should be entered in the “Alt”
column.  Adding “1” to the “Delay” columns will cause the copter to
momentarily stop at each waypoint.</p>
<p><strong>DO_DIGICAM_CONTROL</strong> will cause the camera shutter to be pushed once
immediately if the autopilot has been connected using CHDK or a
servo.  This command takes no arguments and like other “do” commands it
executes immediately after the preceding waypoint command begins.</p>
<p><strong>DO_TRIGG_DISTANCE</strong> is the same as do-digicam-control (above) except
the camera shutter will trigger every X meters.  Where X can be defined
in the first column labelled “Dist (m)”.  Note: in AC3.1.2 there is no
mission command to stop the command from running so the shutter will be
triggered continuously until the vehicle is switched out of AUTO mode.</p>
<p><strong>RETURN_TO_LAUNCH</strong> should be the last command in the mission so the
vehicles returns home.</p>
<p><strong>DO_SET_ROI</strong> can be used to point the nose of the vehicle and gimbal
at a specific point on the map.</p>
<a class="reference external image-reference" href="../_images/3dMapping_MPFlightPlanExample.jpg"><img alt="../_images/3dMapping_MPFlightPlanExample.jpg" src="../_images/3dMapping_MPFlightPlanExample.jpg" /></a>
</section>
<section id="recommended-desktop-3d-mapping-software">
<h2>Recommended Desktop 3d mapping software<a class="headerlink" href="#recommended-desktop-3d-mapping-software" title="Permalink to this heading">¶</a></h2>
<p>MicMac based toolchain together with
(<a class="reference external" href="http://fiji.sc/">ImageJ/Fiji</a>, <a class="reference external" href="https://qgis.org/en/site/">QGIS</a>,
<a class="reference external" href="https://sourceforge.net/projects/saga-gis/">SAGA GIS</a>): open source
and free!</p>
<p><a class="reference external" href="http://ccwu.me/vsfm/">VisualSFM</a> : free for non-commercial use</p>
<p><a class="reference external" href="http://www.agisoft.com/">Agisoft Photscan</a> : $179 for the
standard edition, $3,499 for the pro edition including georeferencing,
orthopotos, etc</p>
<p><a class="reference external" href="https://www.pix4d.com/">Pix4d</a> : 6500 euros or 260 euros per month</p>
<p><a class="reference external" href="https://opendronemap.org/">OpenDroneMap</a> : open source and
free! (<a class="reference external" href="https://www.youtube.com/watch?v=e2qp3o8caPs">user intro video</a>)</p>
<p>All of these software packages work in generally the same way in that
they consume the still images you’ve taken from the vehicle (and you may
also choose to add pictures taken by hand from the ground as well) and
produce a 3d image (in what format?).  This is accomplished by
automatically matching up the images, it does not rely upon knowing the
actual location from where the image was taken.</p>
</section>
<section id="sharing-your-model">
<h2>Sharing your model<a class="headerlink" href="#sharing-your-model" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://sketchfab.com/">Sketchfab</a> allows you to upload your
completed 3d models so that others can interactively view the model in
their web browsers.  Click on the image at the top of the blog post to
see an example.</p>
<p><a class="reference external" href="http://threejs.org/">Three.js</a> allows you to provide 3D models on
your own webpage.</p>
<p><a class="reference external" href="https://www.blender.org/">Blender</a> can be used to create video files
of virtual fly throughs of the 3d model which can then be posted to
YouTube.  Here is an example by
<a class="reference external" href="http://www.diydrones.com/profile/Richard721">Richard</a>.</p>
<p><a class="reference external" href="https://dronemapper.com/">Dronemapper</a> allows uploading and managing
raw images.</p>
<div class="video_wrapper" style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/MlON0X_nxBw" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div></section>
<section id="additional-resources-and-examples">
<h2>Additional resources and Examples<a class="headerlink" href="#additional-resources-and-examples" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.diydrones.com/profiles/blogs/t3-season-2-the-model">T3 season 2 - “the model” blog post</a>
and <a class="reference external" href="https://www.diydrones.com/profiles/blogs/announcing-the-winner-of-the-13th-t3-competition">winner announcement</a></p></li>
<li><p><a class="reference external" href="https://diydrones.com/profiles/blogs/the-fallen-blockhouse-t3-entry">Sylvain’s “fallen blockhouse” T3 entry blog post</a></p></li>
<li><p><a class="reference external" href="https://diydrones.com/profiles/blogs/3d-reconstruction-of-largest-hallstatt-tumulus-grave-in-central">Thorsten’s “resconstruction of largest hallstatt tumulus grave” T3 entry blog post</a></p></li>
<li><p><a class="reference external" href="https://diydrones.com/profiles/blogs/apm-octocopter-build-and-mission">Stephen Gienow’s “Octocopter scan of UMBC” T3 entry blog post</a></p></li>
<li><p><a class="reference external" href="https://diydrones.com/profiles/blogs/krasiczyn-castle-3d-model-poland">Krasiczyn Castle 3D model, Poland</a></p></li>
<li><p><a class="reference external" href="http://prebut.free.fr/">MyDrone’s “Buisante Chapel” T3 entry</a></p></li>
<li><p><a class="reference external" href="https://www.mapbox.com/blog/processing-drone-imagery/">Creating Maps from Drone Imagery - 3DRobotics and Aero drone</a></p></li>
<li><p><a class="reference external" href="http://wiki.ecosynth.org/index.php?title=Main_Page">Ecosynth wiki - a suite of tools used to map vegetation in 3d using
off-the-shelf digital cameras and open-source computer vision software</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="common-use-cases-and-applications.html" class="btn btn-neutral float-left" title="Use-Cases and Applications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="common-fpv-first-person-view.html" class="btn btn-neutral float-right" title="First Person View (FPV)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ArduPilot Dev Team.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>