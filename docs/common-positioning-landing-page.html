<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GPS/Compass (landing page) &mdash; Copter  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/./useralerts.js"></script>
        <script data-domain="ardupilot.org" defer="defer" src="https://plausible.ardupilot.org/js/script.outbound-links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Copter
              <img src="../_static/ardupilot_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="copter-introduction.html">Copter简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">选择飞控</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-GCS.html">地面站软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">首次设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">首次飞行和调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">传统直升机</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">任务规划</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">如果出现问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">高级配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">可选硬件</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional-information.html">附加信息</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">用户警报</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Copter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">GPS/Compass (landing page)</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gps-compass-landing-page">
<span id="common-positioning-landing-page"></span><h1>GPS/Compass (landing page)<a class="headerlink" href="#gps-compass-landing-page" title="Permalink to this heading">¶</a></h1>
<p>Copter/Plane/Rover support integration with GPS, Compass and other
positioning technologies:</p>
<figure class="align-default">
<a class="reference external image-reference" href="../_images/gps-landing-page.jpg"><img alt="../_images/gps-landing-page.jpg" src="../_images/gps-landing-page.jpg" /></a>
</figure>
<section id="gps-compass">
<h2>GPS/Compass<a class="headerlink" href="#gps-compass" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="common-avanon-gnss-mag.html">Avionics Anonymous GNSS + Compass</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-avanon-mag.html">Avionics Anonymous Compass</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-beitian-gps.html">Beitain BN-220 GPS / BN-880 GPS + Compass Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-cuav-neo-v2-pro.html">CUAV Neo v2 Pro DroneCAN GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-cuav-neo-3-pro.html">CUAV Neo 3 Pro DroneCAN GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-cuav-neo-3.html">CUAV Neo 3（M9N) GPS</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.proficnc.com/all-products/152-gps-module.html">Hex Here 2 DroneCAN GPS/Gyro/IMU/Baro</a></li>
<li class="toctree-l1"><a class="reference external" href="https://shop.holybro.com/dronecan-m8n-m9n-gps_p1335.html">Holybro DroneCAN M8/M9 GPS</a></li>
<li class="toctree-l1"><a class="reference external" href="https://shop.holybro.com/micro-m8n-gps_p1009.html">Holybro Micro M8N GPS Module</a></li>
<li class="toctree-l1"><a class="reference external" href="https://shop.holybro.com/nano-ublox-m8-5883-gps-module_p1236.html">Holybro Nano Ublox M8 5883 GPS Module</a></li>
<li class="toctree-l1"><a class="reference external" href="https://holybro.com/collections/gps-rtk-systems/products/m8n-gps">Holybro M8N (Pixhawk 4) GPS Module</a></li>
<li class="toctree-l1"><a class="reference external" href="https://holybro.com/collections/gps-rtk-systems/products/m9n-gps">Holybro M9N GPS Module</a></li>
<li class="toctree-l1"><a class="reference external" href="https://holybro.com/products/dronecan-rm3100-compass">Holybro DroneCAN RM3100 Professional Grade Compass</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.mateksys.com/?portfolio=m10-l4-3100">Matek DroneCAN AP_Periph GNSS M10-L4-3100</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.mateksys.com/?portfolio=sam-m8q">Matek SAM-M8Q</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-matek-m8q.html">Matek M8Q-CAN/DroneCAN GPS+Compass+Baro+Airspeed I2C port</a></li>
<li class="toctree-l1"><a class="reference external" href="https://store.mrobotics.io/category-s/109.htm">mRo GPS, GPS+Compass,RTK, and DroneCAN modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mrobotics-location-one-gps.html">mRo Locaton One DroneCAN GPS/Compass</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.qio-tek.com/index.php/product/qiotek-m10s-gnss-module/">Qiotek DroneCAN GNSS M10 QMC5883</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.qio-tek.com/index.php/product/qiotek-m10s-gnss-module/">Qiotek GNSS M10 QMC5883</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.qio-tek.com/index.php/product/qiotek-rm3100-dronecan-module/">Qiotek DroneCAN RM3100 Compass</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-zubax-gnss-positioning-module-gps-compass-and-barometer.html">Zubax GNSS 2: GNSS + Compass + Barometer</a></li>
</ul>
</div>
</section>
<section id="rtk-gps">
<h2>RTK GPS<a class="headerlink" href="#rtk-gps" title="Permalink to this heading">¶</a></h2>
<p>These GPS can incorporate real time kinematic data, either internally generated or externally provided, to improve the precision of the position estimate from the normal GPS meter range down to the cenitmeter range (see <a class="reference internal" href="common-rtk-correction.html#common-rtk-correction"><span class="std std-ref">RTK GPS Correction (Fixed Baseline)</span></a>). This increased precision also allows for “Moving Baseline” yaw estimates using two devices on a vehicle with certain RTK GPSes (F9P based) or dedicated Moving Baseline GPSes. See <a class="reference internal" href="common-gps-for-yaw.html#common-gps-for-yaw"><span class="std std-ref">GPS for Yaw (aka Moving Baseline)</span></a>.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="common-gps-ardusimple.html">ArduSimple RTK GPS</a></li>
<li class="toctree-l1"><a class="reference external" href="https://arkelectron.com/product/ark-rtk-gps/">Ark RTK GPS</a></li>
<li class="toctree-l1"><a class="reference external" href="https://wiki.blicube.com/grtk/">Blicube RTK GPS (Single Unit Moving Baseline)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-cuav-c-rtk-9p-gps.html">CUAV C-RTK 9P RTK Receiver</a></li>
<li class="toctree-l1"><a class="reference external" href="https://store.cuav.net/shop/c-rtk-9ps/">CUAV C-RTK 9Ps RTK Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-cuav-c-rtk2.html">CUAV C-RTK2 PPK and RTK receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-cuav-c-rtk2-hp.html">CUAV C-RTK2 HP  Heading and RTK receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-reach-rtk-receiver.html">Emlid Reach RTK Receiver</a></li>
<li class="toctree-l1"><a class="reference external" href="https://store.freeflysystems.com/products/rtk-gps-ground-station">Freefly RTK GPS Ground Station</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.foxtechfpv.com/aerofox-f9p-rtk-unit.html">Foxteck AEROFOX F9P-RTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-here-plus-gps.html">Hex Here+ RTK Receiver</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.hiteccs.com/drones/peripheral-details/positionpro-gnss-receiver/">Hitec PositionPro GNSS</a></li>
<li class="toctree-l1"><a class="reference external" href="https://holybro.com/collections/gps-rtk-systems/products/dronecan-h-rtk-f9p-rover">Holybro DroneCAN H-RTK F9P Rover</a></li>
<li class="toctree-l1"><a class="reference external" href="https://holybro.com/collections/gps-rtk-systems/products/dronecan-h-rtk-f9p-helical">Holybro DroneCAN H-RTK F9P Helical</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-holybro-rtk-m8p.html">Holybro RTK M8P Family</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-holybro-rtk-f9p.html">Holybro RTK F9P Family</a></li>
<li class="toctree-l1"><a class="reference external" href="https://holybro.com/products/h-rtk-unicore-um982">Holybro RTK NEMA UM-982 GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-locosys.html">LOCOSYS HAWK R1 RTK GNSS / R2 RTK GNSS + Compass</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.qio-tek.com/index.php/product/qiotek-zed-f9p-rtk-and-compass-dronecan-module">Qiotek DroneCAN RTK-F9P GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-piksi-multi-rtk-receiver.html">Swift Navigation's Piksi Multi RTK GPS Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-septentrio.html">Septentrio AsteRx-mUAS RTK GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-synerex-mdu-2000.html">Synerx MDU-2000 RTK + LTE GPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-trimble.html">Trimble BD930 RTK GPS</a></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is important that a GPS be connected to the first SERIALx port that has its <code class="docutils literal notranslate"><span class="pre">SERIALx_PROTOCOL</span></code> parameter set to “5” (GPS) since it will stop searching for GPS during bootup if not found on the first port configured for GPS protocol.</p>
</div>
</section>
<section id="gps-driver-options">
<h2>GPS Driver Options<a class="headerlink" href="#gps-driver-options" title="Permalink to this heading">¶</a></h2>
<p>Several GPS operating options are provided by the <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-drv-options" title="(in Rover)"><span class="xref std std-ref">GPS_DRV_OPTIONS</span></a> parameter. This parameter is a bit mask and allows multiple option selections at the same time:</p>
<ul class="simple">
<li><p>bit 0: if set, will send RTK correction data from the first GPS directly to the second via the second’s UART port for <a class="reference internal" href="common-gps-for-yaw.html#common-gps-for-yaw"><span class="std std-ref">GPS for Yaw (aka Moving Baseline)</span></a>, instead via the autopilot.</p></li>
<li><p>bit 1: if set, enable SBF moving baseline yaw using custom base and GPS_MB1 offsets.</p></li>
<li><p>bit 2: if set, use 115.2Kbaud for max serial data rate for those GPSes not capable of higher rates.</p></li>
<li><p>bit 3: if set, routes RTK data between two CAN GPSes via CAN instead of via the autopilot.</p></li>
<li><p>bit 4: if set, GPS reports altitude in ellipsoid height instead of height AMSL.</p></li>
</ul>
</section>
<section id="gps-auto-switch">
<h2>GPS Auto Switch<a class="headerlink" href="#gps-auto-switch" title="Permalink to this heading">¶</a></h2>
<p>When using two GPS units there are a number of switching options that can be selected with <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-auto-switch" title="(in Rover)"><span class="xref std std-ref">GPS_AUTO_SWITCH</span></a>.</p>
<ul class="simple">
<li><dl class="simple">
<dt>0: Use Primary</dt><dd><p>Always use the primary GPS, this can be either the first or second as set with <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-primary" title="(in Rover)"><span class="xref std std-ref">GPS_PRIMARY</span></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>1: Use best</dt><dd><p>Automatically select the best GPS, this is done based on GPS fix status (2D / 3D / rtk) if both GPSs have the same fix status the one with the larger number of satellites is used.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>2: Blend</dt><dd><p>Blend is best suited for use with two identical GPS units, see <a class="reference internal" href="common-gps-blending.html#common-gps-blending"><span class="std std-ref">GPS blending</span></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>4: Use primary if 3D fix or better</dt><dd><p>Use primary GPS as set with <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-primary" title="(in Rover)"><span class="xref std std-ref">GPS_PRIMARY</span></a> if it has a 3D fix or better. This should be used when two dissimilar GPS units are used, one high quality primary unit, and a secondary less accurate unit. In this case the
high quality GPS will often have a better quality fix even if it has fewer satellites. Using ‘Use best’ in this case would result in using the poorer quality GPS and result in more switching between GPS units. Unlike ‘Use Primary’ this option
still allows falling back to the secondary GPS if 3D fix is lost on the primary.</p>
</dd>
</dl>
</li>
</ul>
<p>An additional variation with GPS switching is <a class="reference internal" href="common-ek3-affinity-lane-switching.html#common-ek3-affinity-lane-switching"><span class="std std-ref">EKF3 affinity and lane switching</span></a>. An EKF lane can be setup to use either GPS and the whole EKF lane is then switched based on its health. If the <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-primary" title="(in Rover)"><span class="xref std std-ref">GPS_PRIMARY</span></a> is used for a lane, and <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-auto-switch" title="(in Rover)"><span class="xref std std-ref">GPS_AUTO_SWITCH</span></a> is enabled, then the lane will use GPS info as determined by the <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#gps-auto-switch" title="(in Rover)"><span class="xref std std-ref">GPS_AUTO_SWITCH</span></a> setting.</p>
</section>
<section id="advanced-uses">
<h2>Advanced Uses<a class="headerlink" href="#advanced-uses" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="common-rtk-correction.html">Fixed Baseline RTK GPS Correction</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-blending.html">GPS Blending (aka Dual GPS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-for-yaw.html">GPS for Yaw (aka Moving Baseline)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-how-it-works.html">GPS – How it Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-gps-ublox-firmware-update.html">U-Blox F9P Firmware Update Procedure</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ArduPilot Dev Team.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>