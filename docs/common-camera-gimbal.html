<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Servo Gimbal &mdash; Copter  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/./useralerts.js"></script>
        <script data-domain="ardupilot.org" defer="defer" src="https://plausible.ardupilot.org/js/script.outbound-links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Copter
              <img src="../_static/ardupilot_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="copter-introduction.html">Copter简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">选择飞控</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-GCS.html">地面站软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">首次设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">首次飞行和调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">传统直升机</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">任务规划</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">如果出现问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">高级配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">可选硬件</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional-information.html">附加信息</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">用户警报</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Copter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Servo Gimbal</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="servo-gimbal">
<span id="common-camera-gimbal"></span><h1>Servo Gimbal<a class="headerlink" href="#servo-gimbal" title="Permalink to this heading">¶</a></h1>
<a class="reference internal image-reference" href="../_images/servo-gimbal.png"><img alt="../_images/servo-gimbal.png" src="../_images/servo-gimbal.png" style="width: 450px;" /></a>
<p>ArduPilot can stabilize a servo gimbal with up to three axis of motion using any of the free PWM output channels.
Once connected the camera gimbal can be controlled by the pilot using an RC transmitter, by sending commands from the ground stations or autonomously during missions.</p>
<p>This article explains how to connect and configure a gimbal using simple servos to stablize the attitude of a camera.  If using ArduPilot 4.2 (or earlier) the instructions lower down on this page may also be useful for Brushless PWM Gimbals.</p>
<section id="supported-gimbals">
<h2>Supported Gimbals<a class="headerlink" href="#supported-gimbals" title="Permalink to this heading">¶</a></h2>
<p>Any servo gimbal accepting PWM input should work.  Specific examples include</p>
<ul class="simple">
<li><p>Adafruit Mini Pan-Tilt Kit</p></li>
<li><p><a class="reference external" href="https://hobbyking.com/en_us/quanum-servo-based-pan-tilt.html">Quanum Pan-Tilt Servo Gimbal</a></p></li>
</ul>
</section>
<section id="mounting-the-camera-and-gimbal">
<h2>Mounting the Camera and Gimbal<a class="headerlink" href="#mounting-the-camera-and-gimbal" title="Permalink to this heading">¶</a></h2>
<p>The camera needs to be mounted securely to the gimbal, but in such a way
that reduces/dampens vibrations from the motor.</p>
<p>Common methods for mounting the camera on the gimbal include using soft
foam, stiff foam, neoprene tubes (mount camera on tube side), surgical
tube, rubber bands, nylon bolts (direct stiff attachment) and velcro.</p>
</section>
<section id="connecting-to-the-autopilot">
<h2>Connecting to the Autopilot<a class="headerlink" href="#connecting-to-the-autopilot" title="Permalink to this heading">¶</a></h2>
<p>Connect the gimbal’s roll, pitch, and/or yaw servos signal and ground pins to the autopilot’s PWM output pins as shown below.  Most autopilots do not provide power on the servo rail meaning a separate BEC is required.</p>
<a class="reference external image-reference" href="../_images/pixhawk_to_gimbal_connection.jpg"><img alt="../_images/pixhawk_to_gimbal_connection.jpg" src="../_images/pixhawk_to_gimbal_connection.jpg" /></a>
</section>
<section id="configuration-4-3-or-higher">
<h2>Configuration (4.3 or higher)<a class="headerlink" href="#configuration-4-3-or-higher" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mission Planner includes a “Camera Gimbal” configuration screen but it has not yet been updated to work with ArduPilot 4.3 (and higher).</p>
</div>
<p>Connect to the autopilot with a ground station and set the following parameters. These settings assume the autopilot’s PWM outputs 9, 10 and 11 will control the gimbal’s roll, pitch and yaw angles respectively. They also assume common angular ranges of the gimbal which may need adjusting to match the actual gimbal being used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently up to two mounts can be supported, MNT1 and MNT2. The following parameters are for the first mount. The second mount has the same parameters.</p>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-type" title="(in Rover)"><span class="xref std std-ref">MNT1_TYPE</span></a> to 1 (Servo) and reboot the autopilot</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-pitch-min" title="(in Rover)"><span class="xref std std-ref">MNT1_PITCH_MIN</span></a> to -90 (meaning the gimbal can pitch straight downwards)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-pitch-max" title="(in Rover)"><span class="xref std std-ref">MNT1_PITCH_MAX</span></a> to 25 (meaning the gimbal can pitch up by 25 deg)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-roll-min" title="(in Rover)"><span class="xref std std-ref">MNT1_ROLL_MIN</span></a> to -30 (meaning the gimbal can roll right 30 deg)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-roll-max" title="(in Rover)"><span class="xref std std-ref">MNT1_ROLL_MAX</span></a> to 30 (meaning the gimbal can roll left 30 deg)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-yaw-min" title="(in Rover)"><span class="xref std std-ref">MNT1_YAW_MIN</span></a> to -180 (meaning the gimbal can yaw to the left 180deg)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-yaw-max" title="(in Rover)"><span class="xref std std-ref">MNT1_YAW_MAX</span></a> to 180 (meaning the gimbal can yaw to the right 180deg)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-rc-rate" title="(in Rover)"><span class="xref std std-ref">MNT1_RC_RATE</span></a> to 90 (deg/s) to control speed of gimbal when using RC targetting</p></li>
</ul>
<p>Typical input and output assignments are shown below, but any unused RC input channel or autopilot output channels can be assigned for some or all of these functions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo9-function" title="(in Rover)"><span class="xref std std-ref">SERVO9_FUNCTION</span></a> to 8 (Mount1 Roll)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo9-min" title="(in Rover)"><span class="xref std std-ref">SERVO9_MIN</span></a> and <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo9-max" title="(in Rover)"><span class="xref std std-ref">SERVO9_MAX</span></a> to match the min and max range of the roll servo</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo10-function" title="(in Rover)"><span class="xref std std-ref">SERVO10_FUNCTION</span></a> to 7 (Mount1 Pitch)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo10-min" title="(in Rover)"><span class="xref std std-ref">SERVO10_MIN</span></a> and <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo10-max" title="(in Rover)"><span class="xref std std-ref">SERVO10_MAX</span></a> to match the min and max range of the pitch servo</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo11-function" title="(in Rover)"><span class="xref std std-ref">SERVO11_FUNCTION</span></a> to 6 (Mount1 Yaw)</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo11-min" title="(in Rover)"><span class="xref std std-ref">SERVO11_MIN</span></a> and <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#servo11-max" title="(in Rover)"><span class="xref std std-ref">SERVO11_MAX</span></a> to match the min and max range of the yaw servo</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#rc6-option" title="(in Rover)"><span class="xref std std-ref">RC6_OPTION</span></a> = 213 (“Mount Pitch”) to control the gimbal’s pitch rate with RC channel 6</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#rc7-option" title="(in Rover)"><span class="xref std std-ref">RC7_OPTION</span></a> = 214 (“Mount Yaw”) to control the gimbal’s yaw rate with RC channel 7</p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#rc8-option" title="(in Rover)"><span class="xref std std-ref">RC8_OPTION</span></a> = 163 (“Mount Lock”) to switch between “lock” and “follow” mode with RC channel 8</p></li>
</ul>
</section>
<section id="control-and-testing">
<h2>Control and Testing<a class="headerlink" href="#control-and-testing" title="Permalink to this heading">¶</a></h2>
<p>See <a class="reference internal" href="common-mount-targeting.html#common-mount-targeting"><span class="std std-ref">Gimbal / Mount Controls</span></a> for details on how to control the gimbal using RC, GCS or Auto mode mission commands</p>
</section>
<section id="configuration-using-mission-planner-4-2-or-lower">
<h2>Configuration Using Mission Planner (4.2 or lower)<a class="headerlink" href="#configuration-using-mission-planner-4-2-or-lower" title="Permalink to this heading">¶</a></h2>
<p>Under the SETUP/Optional Hardware Menu, you will find a <code class="docutils literal notranslate"><span class="pre">Camera</span>
<span class="pre">Gimbal</span></code> set-up screen. (see image below)</p>
<p>The <strong>Type</strong> box should be set to the type of gimbal. “Servo” for either non-stabilized manual control, or ArduPilot stabilization, or use of an external gimbal stabilizer. The autopilot will need to be rebooted in order for this to take effect and allow changes to the options below.</p>
<p>For each axis (<strong>PITCH, ROLL, YAW</strong>) of your camera gimbal select the appropriate output
channel (although shown as “RCx” in the above, MP will now show the labels for output channel choices correctly as “SERVOx” in current MP releases) that you connected above and ensure the appropriate <strong>“Stabilise”</strong> checkbox is checked (DO NOT CHECK YAW, however, its not supported) .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>if only directional control is desired without correcting for vehicle attitude, then leave the <strong>“Stabilise”</strong> checkbox unchecked.</p>
</div>
<p>The <strong>Servo Limits</strong> should be adjusted to ensure the gimbal servos
don’t bind.</p>
<p>The <strong>Angle Limits</strong> should correspond to the rotation angle of the gimbal
itself at the servo limits. If you find during testing that your gimbal
is not properly remaining stabilised (for example it’s over or
under correcting as you rotate the copter), adjust the angle limits up or
down slightly.</p>
<p>(These are not really ‘angle’ limits but how much the servo is commanded
to move within the limits set by the Min/Max parameters set in <strong>Servo Limits</strong>.</p>
<p>eg. If set to -60/+60 the output will reach Min/Max (its limit) when the
‘copter reaches -60°/+60°. If set to -15/+15 the servo will reach Min/Max (its limit) when the
‘copter reaches -15°/+15°)</p>
<p><strong>Retract Angles</strong> refer to the position of the gimbal when the
mount’s mode is “retracted” (i.e. MNT1_DEFLT_MODE=0). “Retracted” normally
means when the gimbal is pulled into the body of the aircraft which is
generally not relevant for multicopters.</p>
<p><strong>Neutral Angles</strong> refers to the position of the gimbal when the mount
is first initialized. This is normally facing straight forward.</p>
<p><strong>Control Angles</strong> are parameters to allow control of the gimbal from
a ground station perhaps using a joystick. These values are overwritten
by the ground station so there’s no point in updating them on the MP
screen.</p>
<p>If you find your gimbal is moving in the wrong direction, check the
<strong>Reverse</strong> checkbox.</p>
<figure class="align-default" id="id1">
<a class="reference external image-reference" href="../_images/MPCameraAndGimbalSetupScreen.jpg"><img alt="../_images/MPCameraAndGimbalSetupScreen.jpg" src="../_images/MPCameraAndGimbalSetupScreen.jpg" /></a>
<figcaption>
<p><span class="caption-text">Mission Planner: Camera and Gimbal Setup Screen</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>If you wish to adjust the gimbal yaw, pitch, or roll while flying, you can
set the RC controls for roll, pitch, or yaw using the <strong>Input channel</strong> selection box.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If only manual yaw and/or pitch is desired using servos, you can use this setup without stabilization. In addition, by extending the <code class="docutils literal notranslate"><span class="pre">SERVO</span> <span class="pre">LIMITS</span></code> you can sometimes obtain almost 180-degree servo rotation, on some servos. Increase them slowly, testing as you do, and do not overextend the PWM values. Stop when the motion stops increasing.</p>
</div>
<section id="aligning-min-and-max-pwm-values-with-the-full-throw-of-the-gimbal">
<h3>Aligning Min and Max PWM values with the full throw of the gimbal<a class="headerlink" href="#aligning-min-and-max-pwm-values-with-the-full-throw-of-the-gimbal" title="Permalink to this heading">¶</a></h3>
<p>This section shows how to align the maximum and minimum PWM servo
settings:</p>
<ul class="simple">
<li><p>Roll the airframe over hard left (just past where the servo stops moving, or ~45 deg), and raise the “Roll” “Servo” “Min” value until the servo starts to physically move a tiny bit, stop there.</p></li>
<li><p>Roll the airframe over hard right (just past where the servo stops moving, or ~45 deg), and lower the “Roll” “Servo” “Max” value until the servo starts to physically move a tiny bit, stop there.</p></li>
<li><p>Repeat for Pitch (forward and backward motion)</p></li>
</ul>
</section>
<section id="leveling-centering-the-gimbal">
<h3>Leveling/centering the gimbal<a class="headerlink" href="#leveling-centering-the-gimbal" title="Permalink to this heading">¶</a></h3>
<p>To level and center the gimbal:</p>
<ul class="simple">
<li><p>Keep the airframe perfectly straight-and-level</p></li>
<li><p>If the gimbal is not quite perfectly level, tweak the hardware first, eg, get servo horn/s so that the gimbal is as close to level as possible before doing the next step(s). Do this by unscrewing the horn from the servo and repositioning it, and/or if using push-rods to the gimbal, by adjusting the length of them.</p></li>
<li><p>If “pitch” is still not quite level, you can “trim” it by adjusting the <code class="docutils literal notranslate"><span class="pre">MNT_PITCH_MIN</span></code> and <code class="docutils literal notranslate"><span class="pre">MNT_PITCH_MAX</span></code> … BOTH by one click in the same direction (e.g. click both down arrows once each) This will ensure that the difference between them remains constant (important), but will adjust the “center” position of the gimbal by small amounts (do not do this too much as it affects the maximum throw/s at the extremities by the same amount).</p></li>
</ul>
</section>
</section>
<section id="shutter-configuration">
<h2>Shutter configuration<a class="headerlink" href="#shutter-configuration" title="Permalink to this heading">¶</a></h2>
<p>See <a class="reference internal" href="common-camera-shutter-with-servo.html#common-camera-shutter-with-servo"><span class="std std-ref">Camera Shutter Configuration in Mission Planner</span></a> for information on how to integrate shutter triggering with ArduPilot.</p>
<p>See <a class="reference internal" href="common-cameras-and-gimbals.html#common-cameras-and-gimbals"><span class="std std-ref">Cameras and Gimbals</span></a> page for links to various triggering methods.</p>
<p>See <a class="reference internal" href="common-mount-targeting.html#common-mount-targeting"><span class="std std-ref">Gimbal / Mount Controls</span></a> for mount control and targeting information.</p>
</section>
<section id="other-parameters">
<h2>Other Parameters<a class="headerlink" href="#other-parameters" title="Permalink to this heading">¶</a></h2>
<p>Since servos in the gimbal may react slower to position/angle changes in the vehicle’s roll and pitch as the vehicle moves about a target, the camera shot may have some visible lag in it. This can be reduced by using these parameters to have the gimbal outputs move a bit ahead of the movements of the vehicle.</p>
<section id="revs-4-3-or-higher">
<h3>Revs 4.3 or higher<a class="headerlink" href="#revs-4-3-or-higher" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-lead-rll" title="(in Rover)"><span class="xref std std-ref">MNT1_LEAD_RLL</span></a></p></li>
<li><p><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#mnt1-lead-ptch" title="(in Rover)"><span class="xref std std-ref">MNT1_LEAD_PTCH</span></a></p></li>
</ul>
</section>
<section id="revs-4-2-or-lower">
<h3>Revs 4.2 or lower<a class="headerlink" href="#revs-4-2-or-lower" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MNT_LEAD_RLL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MNT_LEAD_PTCH</span></code></p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ArduPilot Dev Team.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>