<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Toshiba CAN ESCs &mdash; Copter  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/./useralerts.js"></script>
        <script data-domain="ardupilot.org" defer="defer" src="https://plausible.ardupilot.org/js/script.outbound-links.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Copter
              <img src="../_static/ardupilot_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="copter-introduction.html">Copter简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">选择飞控</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-GCS.html">地面站软件</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">首次设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">首次飞行和调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">传统直升机</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">任务规划</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">如果出现问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">高级配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">可选硬件</a></li>
<li class="toctree-l1"><a class="reference internal" href="additional-information.html">附加信息</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">用户警报</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Copter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Toshiba CAN ESCs</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p id="common-toshiba-can-escs"><strong>ARCHIVED: no longer supported</strong></p>
<section id="toshiba-can-escs">
<h1>Toshiba CAN ESCs<a class="headerlink" href="#toshiba-can-escs" title="Permalink to this heading">¶</a></h1>
<div class="video_wrapper" style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/mPRICmE3kyk" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div><p>ToshibaCAN ESCs are high-end ESCs that allow control and feedback using a custom CAN protocol.  Some additional specifications:</p>
<ul class="simple">
<li><p>FOC which should result in about 10% longer flight times while also being quieter than non-FOC ESCs</p></li>
<li><p>Up to 7S batteries (future versions are planned for up to 12S), 50Amps</p></li>
<li><p>Up to 12 motors</p></li>
<li><p>Fast sync issue recovery time (100ms to 150ms)</p></li>
<li><p>Relatively lightweight</p></li>
<li><p>Designed and manufactured in Japan</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Support for these ESCs is included in Copter-4.0 (and higher), Plane-3.10 (and higher) and Rover-3.5 (and higher)</p>
</div>
<section id="where-to-buy">
<h2>Where To Buy<a class="headerlink" href="#where-to-buy" title="Permalink to this heading">¶</a></h2>
<p>These ESCs can be purchased by directly contacting the following companies (replace “AT” with “&#64;” in the email addresses)</p>
<ul class="simple">
<li><p>Toshiba USA: Alan.Li AT taec.toshiba.com</p></li>
<li><p>Hikari Alphax Japan: masaki_nakamura AT h-ax.com</p></li>
</ul>
<p>CAN splitter boards are also required, the boards used in the above video were provided by <a class="reference external" href="http://elab.co.jp/">EAMS Lab</a> but these are also not readily available for sale.</p>
</section>
<section id="connection-and-configuration">
<h2>Connection and Configuration<a class="headerlink" href="#connection-and-configuration" title="Permalink to this heading">¶</a></h2>
<a class="reference external image-reference" href="../_images/toshiba-can-esc-pixhawk.jpg"><img alt="../_images/toshiba-can-esc-pixhawk.jpg" src="../_images/toshiba-can-esc-pixhawk.jpg" style="width: 400px;" /></a>
<ul class="simple">
<li><p>ESCs should be daisy chained together using CAN splitter boards and then one 4-pin CAN cable should be connected to the autopilot’s CAN port.  Note that the last splitter board has a terminator (i.e. no port) on one side.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If using a Cube autopilot, the CAN1 and CAN2 labels are reversed.  These instructions assume the ESCs are connected to the CAN1 port which is labelled “CAN2” on Cube autopilots</p>
</div>
<a class="reference external image-reference" href="../_images/toshiba-can-esc-dip-switches.png"><img alt="../_images/toshiba-can-esc-dip-switches.png" src="../_images/toshiba-can-esc-dip-switches.png" style="width: 400px;" /></a>
<ul class="simple">
<li><p>Set the dip switches on each ESC to specify its unique number.  This number also maps the ESC to an equivalent PWM output on the back of the autopilot.  For example ESC 1 will react just like a normal PWM ESC connected to the autopilot’s MAIN OUT 1.  By default this mapping also matches the <a class="reference external" href="https://ardupilot.org/copter/docs/connect-escs-and-motors.html#connect-escs-and-motors" title="(in Copter)"><span class="xref std std-ref">motor order diagrams</span></a>.</p></li>
<li><p>Set <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#can-d1-protocol" title="(in Rover)"><span class="xref std std-ref">CAN_D1_PROTOCOL</span></a> = 3 (ToshibaCAN)</p></li>
<li><p>Set <a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#can-p1-driver" title="(in Rover)"><span class="xref std std-ref">CAN_P1_DRIVER</span></a> = 1 (First driver) to specify that the ESCs are connected to the CAN1 port</p></li>
</ul>
<p>[site wiki=”copter,rover”]
- Set <a class="reference external" href="https://ardupilot.org/copter/docs/parameters.html#mot-pwm-min" title="(in Copter)"><span class="xref std std-ref">MOT_PWM_MIN</span></a> = 1000 and <a class="reference external" href="https://ardupilot.org/copter/docs/parameters.html#mot-pwm-max" title="(in Copter)"><span class="xref std std-ref">MOT_PWM_MAX</span></a> = 2000 so ArduPilot uses an output range that matches the ESCs input range
[/site]
[site wiki=”copter”]
- Set <a class="reference external" href="https://ardupilot.org/copter/docs/parameters.html#mot-spin-arm" title="(in Copter)"><span class="xref std std-ref">MOT_SPIN_ARM</span></a> = 0.03 meaning the motors will spin at 3% of full thrust when armed
- Set <a class="reference external" href="https://ardupilot.org/copter/docs/parameters.html#mot-spin-min" title="(in Copter)"><span class="xref std std-ref">MOT_SPIN_MIN</span></a> = 0.05 meaning the motors will spin at no less than 5% of full thrust when flying
[/site]
[site wiki=”plane”]
- Set <code class="docutils literal notranslate"><span class="pre">SERVOx_MIN</span></code> = 1000 and <code class="docutils literal notranslate"><span class="pre">SERVOx_MAX</span></code> = 2000 for each ESC connected (<code class="docutils literal notranslate"><span class="pre">x</span></code> corresponds to the ESC number) so ArduPilot uses an output range that matches the ESCs input range
[/site]</p>
</section>
<section id="logging-and-reporting">
<h2>Logging and Reporting<a class="headerlink" href="#logging-and-reporting" title="Permalink to this heading">¶</a></h2>
<p>ToshibaCAN ESCs provide information back to the autopilot which is recorded in the autopilot’s onboard log’s ESCn messages and can be viewed in any <a class="reference internal" href="common-logs.html#common-logs"><span class="std std-ref">ArduPilot compatible log viewer</span></a>.  This information includes:</p>
<ul class="simple">
<li><p>RPM</p></li>
<li><p>Voltage</p></li>
<li><p>Current</p></li>
<li><p>ESC Temperature</p></li>
<li><p>Total Current</p></li>
<li><p>Motor Temperature (if the optional motor temperature sensor is connected)</p></li>
</ul>
<p>The RCOU messages are also written to the onboard logs which hold the requested output level sent to the ESCs expressed as a number from 1000 (meaning stopped) to 2000 (meaning full output).</p>
<p>This information (except the motor temperature) can also be viewed in real-time using a ground station.  If using the Mission Planner go to the Flight Data screen’s status tab and look for esc1_rpm.</p>
<a class="reference external image-reference" href="../_images/dshot-realtime-esc-telem-in-mp.jpg"><img alt="../_images/dshot-realtime-esc-telem-in-mp.jpg" src="../_images/dshot-realtime-esc-telem-in-mp.jpg" style="width: 450px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sending ESC data to the GCS requires using MAVLink2.  Please check the appropriate SERIALx_PROTOCOL parameter is 2 (where “x” is the serial port number used for the telemetry connection).</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ArduPilot Dev Team.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>